<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Photographs of Latter Day Temples</title>

    <link rel="stylesheet"
	  href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
	  integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
	  crossorigin="anonymous">

    <style>
      body { padding-top: 40px; }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.7.2/firebase.js"></script>
    <script src="script.js" defer></script>
  </head>
  <body>
    <header>
      <nav class="navbar fixed-top navbar-dark bg-dark">
	<a class="navbar-brand" href="/">Temple Photos</a>
	<a class="btn btn-light" href="/cart/">Checkout</a>
      </nav>
    </header>
    <main role="main">
      <section class="jumbotron text-center">
	<div class="container">
	  <h1 class="jumbotron-heading">Order Page</h1>
	  <p class="lead text-muted">
	    Place Order Here
	  </p>
	</div>
      </section>

      <div class="container" id="orders">
	<div class="table-responsive-sm">
	  <table class="table">
	    <!-- <thead> -->
	    <!--   <tr> -->
	    <!-- 	<th>Name</th> -->
	    <!-- 	<th>Order Details</th> -->
	    <!--   </tr> -->
	    <!-- </thead> -->
	    <tbody>
	      <tr v-for="(item, idx) in cart">
		<th scope="row">
		  {{ item.name }}
		  <br>
		  <img :src="'/temples/' + item.thumbnail"
		       :width="item.orientation === 'portrait' ? '50%' : '70%'">
		</th>
		<td>
		  <table class="table table-borderless table-sm">
		    <thead>
		      <tr>
			<th>Size</th>
			<th>Quantity</th>
			<th>Finish</th>
			<th>Price (each)</th>
			<th>Price (total)</th>
		      </tr>
		    </thead>
		    <tbody>
		      <tr v-for="(lineItem, jdx) in item.lineItems">
			<td>
			  <select class="form-control" v-model="lineItem.size">
			    <option v-for="size in sizes">{{ size }}</option>
			  </select>
			</td>
			<td>
			  <input class="form-control"
				 v-model="lineItem.quantity"
				 type="number">
			</td>
			<td>
			  <select class="form-control"
				  v-model="lineItem.finish">
			    <option v-for="finish in finishes">
			      {{ finish }}
			    </option>
			  </select>
			</td>
			<td>${{ prices[idx][jdx].price }}</td>
			<td>${{ prices[idx][jdx].priceTotal }}</td>
		      </tr>
		    </tbody>
		  </table>
		  <button class="btn btn-secondary btn-sm"
			  v-on:click="addLineItem(item)">
		    Add
		  </button>
		</td>
	      </tr>
	      <tr>
		<th scope="row">Total Order Price:</th>
		<td>${{ totalPrice }}</td>
	      </tr>
	    </tbody>
	  </table>
	</div>
	<button class="btn btn-primary" onclick="placeOrder()">
	  Buy Now
	</button>
	<p>
	  For special requests, e.g. greeting cards, wrapped canvas, metal
	  prints or gifts, please send an
	  <a href="mailto:rothlmar+photos@gmail.com">email</a>
	  explaining what you'd like.
	</p>
      </div>
    </main>
  </body>
</html>
